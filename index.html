<!DOCTYPE html>
<html lang="en" data-theme="dark">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <meta name="description" content="Terminal Chess - A web-based ASCII chess game with an enhanced AI bot" />
    <title>Terminal Chess</title>
    
    <!-- Fonts -->
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&family=JetBrains+Mono:wght@400;500;700&display=swap" rel="stylesheet" />
    
    <!-- Stylesheet -->
    <link rel="stylesheet" href="style.css" />
</head>
<body>
    <div class="app">
        <!-- Header -->
        <header class="header">
            <div class="header-left">
                <div class="title">
                    <span class="title-icon">&#9822;</span>
                    Terminal Chess
                </div>
                <button id="themeToggle" class="theme-toggle" type="button" aria-label="Toggle theme">
                    <span class="theme-toggle-icon">&#127769;</span>
                    <span class="theme-toggle-label">Dark</span>
                </button>
            </div>
        </header>

        <!-- Main Layout -->
        <main class="layout">
            <!-- Terminal Panel -->
            <section class="terminal-wrap">
                <div class="terminal">
                    <div class="term-header">
                        <div class="term-dots">
                            <span class="dot red"></span>
                            <span class="dot yellow"></span>
                            <span class="dot green"></span>
                        </div>
                        <span class="term-title">
                            Type commands below | <kbd class="kbd">Tab</kbd> autocomplete | <kbd class="kbd">&#8593;/&#8595;</kbd> history
                        </span>
                    </div>
                    <div class="term-body" id="output" role="log" aria-live="polite"></div>
                    <div class="input-wrap">
                        <span class="prompt" aria-hidden="true">&#10095;</span>
                        <div class="suggest">
                            <input 
                                id="cmdInput" 
                                class="cmd-input" 
                                type="text"
                                spellcheck="false" 
                                autocomplete="off"
                                autocapitalize="off"
                                placeholder="Enter command (e.g., move e2 e4 or e2e4)"
                                aria-label="Command input"
                            />
                            <div 
                                id="suggestList" 
                                class="suggest-list" 
                                role="listbox"
                                aria-label="Command suggestions"
                                style="display: none"
                            ></div>
                        </div>
                        <div class="actions">
                            <button id="runBtn" class="btn btn-primary" type="button">Run</button>
                            <button id="clearBtn" class="btn" type="button">Clear</button>
                        </div>
                    </div>
                    <!-- Shortcuts moved here from header -->
                    <div class="shortcuts-section">
                        <div class="shortcuts-row">
                            <span class="shortcuts-label">Shortcuts:</span>
                            <kbd class="kbd">Enter</kbd> run
                            <kbd class="kbd">Tab</kbd> complete
                            <kbd class="kbd">&#8593;/&#8595;</kbd> navigate
                            <kbd class="kbd">Esc</kbd> close
                        </div>
                        <nav class="chips" id="quickChips" aria-label="Quick commands">
                            <!-- Populated by JavaScript -->
                        </nav>
                    </div>
                </div>
            </section>

            <!-- Board Panel -->
            <aside class="board-pane">
                <div class="board-header">
                    <div class="board-title">
                        <span class="board-title-icon">&#9819;</span>
                        Chess Board
                    </div>
                    <div class="board-actions">
                        <!-- Future: flip board, export buttons -->
                    </div>
                </div>
                <!-- Opening Display -->
                <div id="openingDisplay" class="opening-display" style="display: none;">
                    <!-- Opening name displayed by JavaScript -->
                </div>
                <div id="boardContainer" class="board-container" aria-label="Chess board">
                    <!-- HTML Grid board rendered by JavaScript -->
                </div>
                <div id="boardMeta" class="board-meta" aria-live="polite">
                    Turn: White | New game
                </div>
            </aside>
        </main>

        <!-- Footer -->
        <footer class="footer">
            <div class="footer-section">
                <span class="text-muted">
                    TermiBot v.1.2 | PeSTO Evaluation | Alpha-Beta + TT | Quiescence Search
                </span>
            </div>
            <div class="footer-section">
                <span class="text-muted">
                    Type 'help' for commands | 'status' for viewing bot configuration
                </span>
            </div>
        </footer>
    </div>

    <!-- Chess.js Engine -->
    <script src="https://cdn.jsdelivr.net/npm/chess.js@0.12.0/chess.min.js"></script>
    
    <!-- Bot Logic -->
    <script src="bot.js"></script>
    
    <!-- Game Frontend -->
    <script src="game.js"></script>
</body>
</html>
